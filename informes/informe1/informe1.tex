% Archivo: informe1.tex

\documentclass[11pt,a4paper]{article}

% Idioma y tipografías
\usepackage[spanish, es-noquoting, es-lcroman, es-tabla]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}

% Maquetación y tipografía fina
\usepackage[a4paper,margin=2.5cm]{geometry}
\usepackage{microtype}
\usepackage{setspace}
\onehalfspacing

% Utilidades
\usepackage{csquotes}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage{siunitx}
\usepackage{amsmath,amssymb}
\usepackage{enumitem}
\setlist{nosep,leftmargin=*,labelsep=0.5em}

% Hipervínculos
\usepackage[hidelinks]{hyperref}
\hypersetup{
    pdftitle={Informe de Ontología Bioclimática},
    pdfauthor={Autor},
    pdfsubject={Ontología Bioclimática},
    pdfkeywords={ontologías, OWL, bioclimática, conocimiento, SPARQL}
}

% Bibliografía
\usepackage[
    backend=biber,
    style=ieee,
    sorting=nyt,
    maxbibnames=99
]{biblatex}
\addbibresource{bibliography.bib}

% Subfiguras
\usepackage{subcaption}

% Código (Turtle/SPARQL/OWL)
\usepackage{listings}
\lstdefinestyle{ontostyle}{
    basicstyle=\ttfamily\small,
    numbers=left,
    numberstyle=\tiny,
    frame=lines,
    breaklines=true,
    tabsize=2,
    columns=fullflexible,
    showstringspaces=false,
    keywordstyle=\color{blue!70!black}\bfseries,
    commentstyle=\color{gray!70},
    stringstyle=\color{green!50!black}
}
\lstdefinelanguage{Turtle}{
    morekeywords={@prefix,@base,a},
    sensitive=true,
    morecomment=[l]{\#},
    morestring=[b]{"}
}
\lstdefinelanguage{SPARQL}{
    morekeywords={SELECT,CONSTRUCT,ASK,DESCRIBE,WHERE,FROM,NAMED,PREFIX,BASE,OPTIONAL,FILTER,GRAPH,UNION,MINUS,BIND,VALUES,ORDER,BY,LIMIT,OFFSET,GROUP,HAVING,AS,SERVICE,UNDEF,DISTINCT,REDUCED},
    sensitive=true,
    morecomment=[l]{\#},
    morestring=[b]{"}
}
\lstdefinelanguage{RDFXML}{
    morestring=[b]",
    morecomment=[s]{<!--}{-->}
}
\lstset{style=ontostyle}

% Comandos útiles
\newcommand{\ontologyname}{Ontología Bioclimática}
\newcommand{\iri}[1]{\texttt{#1}}
\newcommand{\term}[1]{\textsf{#1}}

\begin{document}
\begin{titlepage}
    \centering
    % \includegraphics[height=2cm]{logo.png}\par\vspace{1cm} % Descomentar si hay logo
    {\Large Informe Técnico 1}\par\vspace{0.5cm}
    {\huge\bfseries \ontologyname\par}\vspace{0.5cm}
    \begin{tabular}{@{}ll@{}}
        Autor 1: & Juan Diego Gallego Nicolás \\
        Contacto 1: & jdiego.gallego@um.es \\
        Autor 2: & Óscar Vera López \\
        Contacto 2: & oscar.veral@um.es \\
        Profesor: & Rodrigo Martínez Béjar \\
        Asignatura: & Conocimiento y Razonamiento Aproximado \\
    \end{tabular}
    \vfill
    {\large \today}\par
\end{titlepage}

\pagenumbering{roman}
\begin{abstract}
Este informe presenta el diseño, implementación y evaluación de una ontología bioclímatica centrada entorno
al Sistema de Zonas de Vida de Holdridge. La ontología está orientada hacia la clasificación de zonas bioclimáticas
a partir de datos geográficos y climáticos de diferentes estaciones especializadas ubicadas en diversas localidades
del territorio español. Se detallan los requisitos, alcance y metodología seguida, así como las decisiones de diseño
conceptual y técnica.
\end{abstract}

\paragraph{Palabras clave:} ontologías; OWL; bioclimática; conocimiento; zonas de vida;
\clearpage

\tableofcontents
\clearpage
\pagenumbering{arabic}

\section{Introducción}
\color{blue!70!black} TODO
\color{black}

\section{Metodología}
Decidimos seguir la metodología de Ontology Development 101 \cite{NoyMcGuinness2001Ontology101} para la creación de nuestra ontología bioclimática. 
Esta metodología nos proporcionó una guía clara y estructurada para abordar el desarrollo de la ontología, 
desde la definición de los requisitos hasta la implementación y evaluación final con Protégé.

\subsection{Dominio y alcance}
El primer paso para la elaboración de la ontología es definir el dominio y alcance. En nuestro caso, el dominio es la bioclimatología, 
con un enfoque específico en el Sistema de Zonas de Vida de Holdridge. Un paso clave para determinar el alcance es plantear las preguntas 
de competencia que la ontología debe ser capaz de responder. Estas preguntas guían el diseño y aseguran que la ontología cubra los 
aspectos esenciales del dominio, permitiendo ser unos "tests" para su validación.

\subsubsection{Preguntas de competencia (CQs)}
Algunas de las preguntas que nuestra ontología debe ser capaz de responder son las siguientes:
\begin{enumerate}
    \item ¿Cómo influye la situación geográfica en el clima de una región?
    \item ¿Qué magnitudes climáticas son necesarias para clasificar una zona bioclimática según el sistema de Holdridge?
    \item ¿Alguna zona de la Región de Murcia se clasifica como "monte espiniso" según el sistema de Holdridge?
    \item ¿En qué rango de valores se puede encontrar la ABT (biotemperatura media anual)?
    \item Dada una ABT x y una APP z, ¿cuál es el PER (relación de evapotranspiración potencial) correspondiente?
    \item ¿Cuáles son los tipos de regiones latitudinales que existen?
    \item Si una estación climática en la región tropical está a una altitud de 4200 metros, ¿cuál sería su piso altitudinal correspondiente?
\end{enumerate}
Si bien la lista no es exhaustiva, estas preguntas de competencia cubren aspectos fundamentales del dominio bioclimático y guían el desarrollo de la ontología.

\subsection{Trabajos relacionados}

\subsubsection{WorldClim}

WorldClim \cite{FickHijmans2017WorldClim} \cite{WorldClimWebsite} es un conjunto de datos climáticos globales que proporciona información sobre variables climáticas a diferentes resoluciones espaciales. 
Estos datos son útiles para la validación y calibración de modelos bioclimáticos, así como para la identificación de patrones climáticos en diferentes regiones. 
A pesar de ser una base de datos y no una ontología per se, WorlClim define 19 variables bioclimáticas derivadas de datos mensuales de temperatura y precipitación, 
inspirando la utilizacizón de una taxonomía de variables climáticas para este proyecto.

\subsection{ENVO}

ENVO \cite{Buttigieg2013} es un volcabulario formal y estandarizado diseñado para describir de manera inequívoca el entorno de cualquier organismo o muestra biológica
Contiene miles de terminos/clases organizados jerarquicamente y representando biomas, características ambientales, y materiales presentes en 
la naturaleza. En ENVO, se definen biomas propios de la clasificación de de zonas de vida de Holdridge, lo que nos permite explorar las relaciones de estos
biomas con el resto del universo de conocimiento de las ciencias ambientales.


\subsection{Terminos relevantes}

A continuación, hemos realizado un analisis exhaustivo de los términos clave relacionados con el dominio bioclimático y el Sistema de Zonas de Vida de Holdridge.
Estos términos son fundamentales para la construcción de la ontología y su correcta representación del conocimiento en este ámbito. La lista incluye conceptos geográficos, climáticos y bioclimáticos esenciales para entender y modelar el dominio.

\noindent
\textbf{Términos relacionados con las magnitudes geográficas:}

\begin{itemize}
    \item Superficie Terrestre
    \item Coordenadas Geográficas.
    \item Latitud.
    \item Unidad de medida de la latitud (grados).
    \item Paralelos.
    \item Línea del Ecuador.
    \item Trópico de Cáncer.
    \item Trópico de Capricornio.
    \item Polos terrestres.
    \item Círculo Polar Ártico.
    \item Círculo Polar Antártico.
    \item Longitud.
    \item Unidad de medida de la longitud (grados).
    \item Meridiano.
    \item Meridiano de Greenwich.
    \item Altitud.
    \item Unidad de Medida de Altitud (metros).
    \item Nivel del mar.
    
\end{itemize}

\noindent
\textbf{Términos relacionados con las magnitudes climáticas y su medición:}

\begin{itemize}
    \item Estación meteorológica o climática.
    \item Variable climática o atmosférica.
    \item Temperatura.
    \item Precipitación.
    \item Viento (dirección y fuerza).
    \item Presión.
    \item Humedad.
    \item Radiación solar.
    \item Sofisticación de la estación climática (mucho o poco).
    \item Equipamiento de la estación bioclimática.
    \item Sensores climáticos.
    \item Termómetro.
    \item Higrómetro.
    \item Pluviómetro.
    \item Anemómetro.
    \item Barómetro.
    \item Piranómetro.
    \item Sensor UV.
    \item Registros de estación climática.
    \item Registro de valor medio anual.
    \item Registro de valor medio mensual.
    \item Tipo de variable climática.
    \item Variable climatica de medición directa.
    \item Variable climática derivada.
    \item Unidades de medida de los sensores y variables climáticas.
\end{itemize}

\noindent
\textbf{Términos relacionados con la bioclimatología y el Sistema de Zonas de Vida de Holdridge:}

\begin{itemize}
    \item Franja clímatica.
    \item Zona cálida o trópical.
    \item Zona templada.
    \item Zona fría.
    \item Clima.
    \item Vegetación.
    \item Fauna.
    \item Territorio.
    \item Ecosistema.
    \item Clasificación bioclimática.
    \item Factores ecológicos.
    \item Zona ecológica.
    \item Zonas de vida.
    \item Parámetros climáticos.
    \item Tipo de suelo.
    \item Acción humana.
    \item Sistema de clasificación bioclimática.
    \item Sistema de Zonas de Vida de Holdridge.
    \item Variable climática fundamental.
    \item Biotemperatura media anual (ABT).
    \item Promedio de Precipitación anual (APP).
    \item Relación de Evapotranspiración Potencial (PER).
    \item Región Latitudinal.
    \item Provincias de Humedad.
    \item Pisos altitudinales.
    \item Restricciones sobre los parámetros climáticos en cada zona.
    \item Biotemperatura.
    \item Calor efectivo.
    \item Rangos de Biotemperatura.
    \item Piso Basal.
    \item Tipo de precipitación (agua, nieve o granizo).
    \item Formula de derivación de APP.
    \item Evapotranspiración.
    \item Evapotranspiración Potencial (APE).
    \item Formula de derivación de APE.
    \item Formula de derivación de PER.

\end{itemize}

\subsubsection{BabelNet}
BabelNet \cite{navigli-ponzetto-2010-babelnet} es una red semántica multilingüe que integra información léxica y enciclopédica de diversas fuentes.
Aunque BabelNet no es una ontología específica del dominio bioclimático, su amplia cobertura de términos y conceptos puede ser útil para enriquecer la ontología, 
además de ser su uso obligatorio para la elaboración de la práctica. 

Como primera aproximación, utilizamos su buscador para introducir uno de los términos de nuestro dominio: "Life Zone" \ref{fig:babelnet-life-zone}. 
El término se muestra como el centro de un grafo radial cuyos vecinos se encuentran conectados mediante aristas de mayor o menor longitud dependiendo
de un criterio de similitud semántica. En este caso, se observa que "Life Zone" está relacionado con conceptos como "vegetation zone" o, 
de manera íntima con "Holdridge life zone", que es precisamente el núcleo de nuestro dominio.
\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\linewidth]{images/bbn_lifezone.png}
    \caption{Resultado de la búsqueda del término ''Life Zone'' en BabelNet.}
    \label{fig:babelnet-life-zone}
\end{figure}

Haciendo clic en el nodo, se muestran los conceptos relacionados con la teoría de las Zonas de Vida de Holdridge \ref{fig:babelnet-holdridge}, como pueden ser
"altitudinal zonation", "vaporization", "humidity", "polar desert"... 

\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\linewidth]{images/bbn_holdridge.png}
    \caption{Conceptos relacionados con ''Holdridge life zone'' en BabelNet.}
    \label{fig:babelnet-holdridge}
\end{figure}

\subsection{Definición de las clases (conceptos) y su jerarquía.}
Para el diseño de la jerarquía conceptual, vamos a seguir un enfoque top-down,
partiendo de conceptos generales hacia conceptos más específicos. 
A continuación, se presentan las clases principales y su jerarquía:

\subsubsection{ZonaVidaHoldridge}
El concepto clave de nuestra ontología es la Zona de Vida de Holdridge, una clasificación bioclimática
que categoriza las regiones del mundo según su clima y posición geográfica. 
A su vez, ZonaVidaHoldridge es una taxonomía que agrupa las diferentes zonas bioclimáticas definidas por Holdridge tales como:
\begin{table}[h]
    \centering
    \caption{Zonas de vida de Holdridge.}
    \begin{tabular}{@{}llll@{}}
        \toprule
        \term{Desierto} & \term{TundraSeca} & \term{TundraHumeda} & \term{TundraPluvial} \\
        \term{BosquePluvial} & \term{BosqueHumedo} & \term{MatorralDesertico} & \term{Estepa} \\
        \term{BosqueMuyHumedo} & \term{BosqueSeco} & \term{MonteEspinoso} & \term{} \\
        \bottomrule
    \end{tabular}
\end{table}
Cada una de estas clases viene determinada por tres magnitudes climáticas fundamentales:
\begin{itemize}
    \item Biotemperatura Media Anual (ABT).
    \item Precipitación Media Anual (APP).
    \item Relación de Evapotranspiración Potencial (PER).
\end{itemize}
Estas magnitudes definen los límites y características de cada zona bioclimática y están estrechamente relacionadas con la ubicación geográfica y las condiciones climáticas de la región.
A futuro, tendría sentido ampliar la ontología para incluir relaciones con el tipo de suelo, vegetación y fauna que se puede encontrar en cada zona de vida.
También, inspirados por BabelNet, dejamos abierta la posibilidad de incluir otros tipos de zonas bioclimáticas.
Así pues, ZonaVidaHoldridge podría considerarse una subclase de un concepto más general como ZonaBioclimatica.

\subsubsection{Topología: RegionLatitudinal}
Este concepto agrupa las diferentes regiones latitudinales que influyen en la clasificación bioclimática según el sistema de Holdridge. 
Las regiones latitudinales son categorías geográficas divididas según paralelos específicos. Estas regiones mantienen una relación 
topológica entre sí, ya que están organizadas de norte a sur en función de su latitud.

\subsubsection{Taxonomía: PisoAltitudinal}
Piso altitudinal es el otro concepto geográfico clave en la clasificación bioclimática de Holdridge.
Los pisos altitudinales son zonas definidas por áreas trapezoidales en el plano altitud/longitud y que Holdridge asoció
a diferentes rangos de ABT. Los pisos altitudinales considerados son:
\begin{itemize}
    \item Basal
    \item Premontano
    \item Montano 
    \item Subalpino
    \item Alpino
    \item Nival
\end{itemize}

\subsubsection{ProvinciaDeHumedad}
La provincia de humedad es un concepto que agrupa áreas geográficas con características climáticas similares en términos de humedad. Las provincias de humedad se definen en función de la relación de evapotranspiración potencial (PER).

\subsubsection{EstaciónBioclimática}
Identificamos una estación climática como una entidad física que recopila datos meteorológicos y climáticos en una ubicación geográfica específica.
Estas estaciones están equipadas con diversos sensores que miden variables climáticas como temperatura, precipitación, humedad, entre otras.
Las estaciones climáticas son fundamentales para obtener los datos necesarios para clasificar las zonas bioclimáticas según el sistema de Holdridge.
Asociaremos cada estación climática con su piso altitudinal, región latitudinal y zona vida de Holdridge correspondiente.

\subsection{Atributos}
Cada clase definida anteriormente tendrá atributos específicos que describen sus características y propiedades.
Estos atributos estarán limitados a un cierto rango de valores.

\subsubsection{ZonaVidaHoldridge}

\begin{center}
\begin{minipage}{\linewidth}
\centering
\captionof{table}{Atributos de ZonaVidaHoldridge.}
\begin{tabular}{@{}lll@{}}
    \toprule
    Atributo & Unidad & Rango \\
    \midrule
    tienePromedioDePrecipitacionAnualMáximo & \si{\milli\metre} & [0, 16000] \\
    tienePromedioDePrecipitacionAnualMínimo & \si{\milli\metre} & [0, 16000] \\
    estaEnPisoAltitudinal & no aplica & 1..1 PisoAltitudinal \\
    estaEnProvinciaDeHumedad & no aplica & 1..1 ProvinciaDeHumedad \\
    \bottomrule
\end{tabular}
\end{minipage}
\end{center}

\subsubsection{RegionLatitudinal}

\begin{table}[h]
    \centering
    \caption{Atributos de RegionLatitudinal.}
    \begin{tabular}{@{}lll@{}}
        \toprule
        Atributo & Unidad & Rango \\
        \midrule
        esAdyacente & no aplica & 1..2 RegionLatitudinal \\
        tieneParaleloInferior & \si{\degree} & [0, 90] \\
        tieneParaleloSuperior & \si{\degree} & [0, 90] \\
        \bottomrule
    \end{tabular}
\end{table}

\subsubsection{PisoAltitudinal}

\begin{table}[h]
    \centering
    \caption{Atributos de PisoAltitudinal.}
    \begin{tabular}{@{}lll@{}}
        \toprule
        Atributo & Unidad & Rango \\
        \midrule
        estáEnRegiónLatitudinal & no aplica & 1..1 RegionLatitudinal \\
        tieneAltitudMáximaAsociada & \si{\meter} & [0, $\infty$] \\
        tieneBiotemperaturaAnualMáximaAsociada & \si{\degreeCelsius} & [0, 30] \\
        tieneBiotemperaturaAnualMínimaAsociada & \si{\degreeCelsius} & [0, 30] \\
        \bottomrule
    \end{tabular}
\end{table}

Para cada piso altitudinal, se definen restricciones más específicas para los atributos relacionados con la ABT.
Por ejemplo, para un piso Nival ambos atributos tendrían que ser exactamente 0°C y 1.5°C, mientras que para un piso Premontano serían 18°C y 24°C respectivamente.

\subsubsection{ProvinciaDeHumedad}

\begin{table}[h]
    \centering
    \caption{Atributos de ProvinciaDeHumedad.}
    \begin{tabular}{@{}lll@{}}
        \toprule
        Atributo & Unidad & Rango \\
        \midrule
        tieneRelaciónDeEvapotranspiraciónPotencial & no aplica & * \\
        \bottomrule
    \end{tabular}
\end{table}

* Valores PER asociados a cada provincia de humedad: "Casi Nula", "Muy Baja", "Baja", "Media-baja", "Media-alta", "Alta", "Muy Alta", "Extrema".

\subsubsection{EstacionBiolimática}

\begin{center}
\begin{minipage}{\linewidth}
\centering
\captionof{table}{Atributos de Estación Bioclimática.}
\begin{tabular}{@{}lll@{}}
    \toprule
    Atributo & Unidad & Rango \\
    \midrule
    estáEnZonaDeVidaDeHoldridge & no aplica & 1..1 ZonaVidaHoldridge \\
    estáEnPisoAltitudinal & no aplica & 1..1 PisoAltitudinal \\
    estáEnRegiónLatitudinal & no aplica & 1..1 RegionLatitudinal \\
    tieneNivelEspecialización & no aplica & \{"Bajo", "Alto"\} \\
    mideTemperaturaMediaAnual & \si{\degreeCelsius} & [-50, $\infty$] \\
    midePrecipitaciónMediaAnual & \si{\milli\metre} & [0, $\infty$] \\
    tieneAltitud & \si{\meter} & [0, $\infty$] \\
    tieneLatitud & \si{\degree} & [-90, 90] \\
    tieneLongitud & \si{\degree} & [-180, 180] \\
    \bottomrule
\end{tabular}
\end{minipage}
\end{center}

\subsection{Axiomática general}
En el subapartado anterior, se han definido los atributos y sus rangos para cada clase principal.
El documento de la práctica especifica un requisito mínimo de cincuenta axiomas para la ontología, 
expresados en lógica de prediciados. No obstante, debido a la representación de la ontología en protégé,
que representa todas estas restricciones, nos abstenemos de representar estos axiomas en este informe.

Sin embargo, sí dejamos un par de axiomas más específicos que consideramos relevantes para la ontología: \\

La relación esAdyacente entre regiones latitudinales es simétrica:
$$
\forall r_1, r_2 (RegionLatitudinal(r_1) \land RegionLatitudinal(r_2) \land esAdyacente(r_1, r_2) \rightarrow esAdyacente(r_2, r_1))
$$

Coherencia entre ZonaVidaHoldridge, PisoAltitudinal y ProvinciaDeHumedad para una EstaciónBioclimática
$$
\begin{aligned}
\forall e, z, p, h\;(
    &EstacionBioclimática(e) \land\; ZonaVidaHoldridge(z) \\
    &\land\; PisoAltitudinal(p) \land\; ProvinciaDeHumedad(h) \\
    &\Rightarrow \\
    &((estáEnZonaDeVidaDeHoldridge(e, z) \Rightarrow estáEnPisoAltitudinal(e, p) \\
    &\land\; estáEnPisoAltitudinal(e, h)) \rightarrow estáEnRegiónLatitudinal(p, h))
)
\end{aligned}
$$

\subsection{Instanciación}
Hemos instanciado la ontología con las regiones latitudinales, pisos altitudinales, provincias de humedad y zonas de vida definidas por Holdridge.
Asimismo, hemos introducido artificialmente una estación climática de ejemplo con datos ficticios para validar la ontología.
Para más detalles, ver sección de Protégé.

\section{Protégé}
Protégé es una herramienta de código abierto ampliamente utilizada para la creación y gestión de ontologías.
Nosotros la hemos empleado para implementar la ontología bioclimática siguiendo la metodología y diseño conceptual previamente descritos.
Protégé tiene el concepto básico "Thing" que representa cualquier entidad en la ontología. A partir de este concepto, hemos definido nuestras clases principales como subclases de "Thing".
Esta herramienta resulta especialmente útil para visualizar la jerarquía de conceptos, las propiedades y las restricciones asociadas a cada clase.

\appendix
\section{Anexo: Magnitudes}
Tabla con magnitudes presentes en la ontología. Se indica nombre, abreviatura y unidad.
\begin{table}[h]
    \centering
    \caption{Magnitudes presentes en la ontología.}
    \begin{tabular}{@{}lll@{}}
        \toprule
        Variable & Abreviatura & Unidad \\
        \midrule
        Latitud & & \si{\degree} \\
        Longitud & & \si{\degree} \\
        Altitud (sobre el nivel del mar) & & \si{\meter} \\
        Biotemperatura media anual & ABT & \si{\degreeCelsius} \\
        Precipitación media anual & APP & \si{\milli\metre} \\
        Relación de evapotranspiración potencial & PER & \textit{adimensional} \\
        Evapotranspiración potencial & APE & \si{\milli\metre} \\
        \bottomrule
    \end{tabular}
\end{table}

\clearpage
\printbibliography

\end{document}